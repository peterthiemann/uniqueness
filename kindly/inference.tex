\begin{mathpar}
  \inferrule[Var]
  { \bvar{x}{
      \forall \kvar_i \forall (\alpha_i:\kvar_i).\ \qual{D}{\tau}}
    \in \E \\
    (\beta_i) \text{ new} \\
    \kvar_x = \operatorname{kind}(x)\\
    (C,\unif) =
    \normalize{D\Cand\Ckind{\tau}{\kvar_x}}{\subst{\alpha_i}{\beta_i}{}}
  }
  { \inferW{\Sone{\kvar_x}}{(C,\unif|_{\fv{\E}})}{\E}{x}{\unif\tau} }

  \inferrule[Abs]
  { \inferW{\Sv}{(D,\unif')}{\E;\bvar{x}{\tau}}{e}{\tau} \\
    \tvar,\kvar\text{ new}\\
    (C,\unif) = \normalize{D\Cand\Cleq{\Sv}{\kvar}}{\unif'}
  }
  { \inferW{\Sv}{(C,\unif)}{\E}{\lam{x}{e}}{\unif(\tvar)\tarr{\kvar}\tau} }

  \inferrule[App]
  { \inferW{\Sv_1}{(C_1,\unif_1)}{\E}{e_1}{\tau_1} \\
    \inferW{\Sv_2}{(C_2,\unif_2)}{\E}{e_2}{\tau_2} \\\\
    \unif' = \unif_1 \mostgeneral \unif_2 \\
    D =
    C_1 \Cand C_2 \Cand \Ceq{\tau_1}{\tau_2\tarr{\kvar}\tvar}
    \Cand \Cleq{\Sv_1 \Sinter \Sv_2}{\kun} \\
    \tvar,\kvar\text{ new}\\
    (C,\unif) = \normalize{D}{\unif'}\\
  }
  { \inferW{\Sv_1 \Sunion \Sv_2}{(C,\unif)}{\E}{\app{e_1}{e_2}}{\unif(\tvar)} }

  \inferrule[Let]
  { \inferW{\Sv_1}{(C_1,\unif_1)}{\E}{e_1}{\tau_1} \\
    (C'_1,\sigma) = \generalize{C_1}{\unif_1\E}{\tau} \\
    \inferW{\Sv_2}{(C_2,\unif_2)}{\E;\bvar{x}{\sigma}}{e_2}{\tau_2} \\\\
    \unif' = \unif_1 \mostgeneral \unif_2 \\
    D =
    C_1 \Cand C_2 \Cand \Cleq{\Sv_1 \Sinter \Sv_2}{\kun} \\
    (C,\unif) = \normalize{D}{\unif'}\\
  }
  { \inferW{\Sv_1 \Sunion \Sv_2}{(C,\unif|_{\fv{\E}})}{\E}{\letin{x}{e_1}{e_2}}
    {\unif\tau_2} }
\end{mathpar}

%%% Local Variables:
%%% mode: latex
%%% TeX-master: "main"
%%% End:
