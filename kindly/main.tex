\PassOptionsToPackage{svgnames}{xcolor}
\documentclass[acmsmall,review,anonymous]{acmart}
\settopmatter{printfolios=true,printccs=false,printacmref=false}

% Encoding and lang
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage[english]{babel}

% Graphical packages
\usepackage{graphicx}

\usepackage{xspace}

% Math
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsthm}
\usepackage{thm-restate}
% \usepackage{mathrsfs}
\usepackage{mathtools}
\usepackage{textcomp}
\usepackage{gensymb}
% \usepackage{textgreek}
\usepackage{multicol}

\usepackage{listings}
\usepackage[scaled=0.85]{DejaVuSansMono}

\usepackage{tikz}
\usetikzlibrary{arrows}

\usepackage{caption}
\usepackage{subcaption}
\usepackage[inline,shortlabels]{enumitem}
\setlist{leftmargin=*,noitemsep}
\usepackage{array}
\usepackage{bm}%Decent bolding for math symbols

\usepackage{natbib}% Good citations and bibliography
\usepackage{mathpartir} % Syntax trees

\mprset{sep=1.2em}

\usepackage{tikz}
\usetikzlibrary{decorations.text,backgrounds,positioning,shapes,
  shadings,shadows,arrows,decorations.markings,calc,fit,fadings,
  tikzmark
}

\usepackage[nameinlink,capitalize]{cleveref}
\addto\extrasenglish{%
  \def\sectionautorefname{Section}
  \def\subsectionautorefname{Section}
  \def\subsubsectionautorefname{Section}
  \def\lstnumberautorefname{Line}
}
\newtheorem{property}{Property}
%\newtheorem{corollary}{Corollary}

\bibliographystyle{ACM-Reference-Format}


\author{Gabriel Radanne}
\affiliation{
  \institution{University of Freiburg}
  \country{Germany}
}
\email{radanne@informatik.uni-freiburg.de}

\author{Hannes Saffrich}
\affiliation{
  \institution{University of Freiburg}
  \country{Germany}
}
\email{saffrich@informatik.uni-freiburg.de}

\author{Peter Thiemann}
\affiliation{
  \institution{University of Freiburg}
  \country{Germany}
}
\email{thiemann@informatik.uni-freiburg.de}

\input{prelude}
\input{caml}
\input{lst-rule}
\input{notations}

\begin{document}

\title{Kindly Bent to Free Us}
\begin{abstract}
  Systems programming often requires the manipulation of resources like
  file handles, network connections, or dynamically allocated
  memory. Programmers need to follow certain protocols to handle
  these resources correctly. Violating these protocols causes bugs
  ranging from type mismatches over data races to use-after-free
  errors and memory leaks. These bugs often lead to security  vulnerabilities.

  While statically typed programming languages guarantee type soundness and memory
  safety by design, most of them do not address issues arising
  from improper resource handling.
  Linear and affine types guarantee single-threaded resource usage,
  but they are rarely deployed as they are too restrictive for real-world applications.

  We present \lang, an extension of ML with constrained types that
  manages linearity and affinity properties through kinds. In addition
  \lang{} supports the exclusive and shared borrowing of affine
  resources, inspired by features of Rust.
  Moreover, \lang{} retains the defining features of the ML family:
  an impure, strict, functional expression language with complete principal type
  inference and type abstraction.
  \lang does not require any linearity annotations in
  expressions and supports common functional programming idioms.
\end{abstract}


\maketitle

\input{rulemacros}

\input{intro}
\input{motivation}
\input{lang}
\input{infer/infer}
\input{metatheory}
\input{soa}
\input{conclusion}

\bibliography{biblio}


\clearpage
\appendix

\section{Further Examples}
\label{sec:extra-example}
\lstMakeShortInline[keepspaces,basicstyle=\small\ttfamily]@
\input{motivation-linearity}
\input{motivation-persistent}
\input{motivation-pool}
\lstDeleteShortInline@

\input{sdtyping/extra}
\clearpage
\input{infer/extra}
\clearpage
\input{lang-extra}
\input{metatheory-extra}

\end{document}

%%% Local Variables:
%%% mode: latex
%%% TeX-master: t
%%% End:
