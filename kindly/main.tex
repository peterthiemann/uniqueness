\documentclass[acmsmall,review,anonymous,table]{acmart}
\settopmatter{printfolios=true,printccs=false,printacmref=false}

% Encoding and lang
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage[english]{babel}

% Graphical packages
\usepackage{graphicx}

\usepackage{xspace}

% Math
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsthm}
% \usepackage{mathrsfs}
\usepackage{mathtools}
\usepackage{textcomp}
\usepackage{gensymb}
% \usepackage{textgreek}
\usepackage{multicol}

\usepackage{listings}
\usepackage[scaled=0.85]{DejaVuSansMono}

\usepackage{tikz}
\usetikzlibrary{arrows}

\usepackage{caption}
\usepackage{subcaption}
\usepackage{enumitem}
%\setlist{leftmargin=*,noitemsep,topsep=5pt}

\usepackage{natbib}% Good citations and bibliography
\usepackage{mathpartir} % Syntax trees

\usepackage[nameinlink,capitalize]{cleveref}
\addto\extrasenglish{%
  \def\sectionautorefname{Section}
  \def\subsectionautorefname{Section}
  \def\subsubsectionautorefname{Section}
  \def\lstnumberautorefname{Line}
}
\newtheorem{property}{Property}
%\newtheorem{corollary}{Corollary}


\bibliographystyle{ACM-Reference-Format}
\citestyle{acmauthoryear}

\input{prelude}
\input{caml}
\input{lst-rule}
\input{notations}

\begin{document}

\title{Kindly Bent to Free Us}
\begin{abstract}
  System programming often requires the manipulation of resources like
  file handles, network connections, or dynamically allocated
  memory. Programmers need to follow certain protocols to handle
  these resources correctly. Violating these protocols causes bugs
  ranging from type mismatches over data races to use-after-free 
  errors and memory leaks. These bugs often lead to security  vulnerabilities.

  While statically typed programming languages guarantee type soundness and memory 
  safety by design, most of them do not address issues arising
  from improper resource handling. 
  Linear and affine types guarantee single-threaded resource usage,
  but they are rarely deployed as they are too restrictive for real-world applications.

  We present \lang, an extension of ML with constrained types that
  manages linearity and affinity properties through kinds. In addition
  \lang{} supports the mutable and immutable borrowing of affine
  resources, inspired by features of Rust.
  Moreover, \lang{} retains the defining features of the ML family:
  an impure, strict functional expression language with complete principal type
  inference and type abstraction through modules.
  Our language does not require any linearity annotations in
  expressions and supports common functional programming idioms.
\end{abstract}


\maketitle

\input{rulemacros}

\input{intro}
\input{motivation}
\input{lang}

\clearpage

\input{infer/infer}
\input{metatheory}
\input{soa}

\bibliography{biblio}


\clearpage
\appendix
\input{sdtyping/extra}
\input{infer/extra}
\input{lang-extra}
\input{metatheory-extra}

\end{document}

%%% Local Variables:
%%% mode: latex
%%% TeX-master: t
%%% End:
